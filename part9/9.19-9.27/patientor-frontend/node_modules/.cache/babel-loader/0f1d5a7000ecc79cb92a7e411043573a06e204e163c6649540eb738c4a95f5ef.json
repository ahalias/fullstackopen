{"ast":null,"code":"var _jsxFileName = \"/Users/ahalias/projects/open/patientor/patientor-frontend/src/components/PatientEntries.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport patientService from \"../services/patients\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HospitalEntryDetails = _ref => {\n  var _entry$diagnosisCodes;\n  let {\n    entry,\n    diagnoses\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [entry.date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }, this), entry.description, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }, this), (_entry$diagnosisCodes = entry.diagnosisCodes) === null || _entry$diagnosisCodes === void 0 ? void 0 : _entry$diagnosisCodes.map(diagnose => {\n      var _diagnoses$find;\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [diagnose, \" \", diagnoses === null || diagnoses === void 0 ? void 0 : (_diagnoses$find = diagnoses.find(it => it.code.toLowerCase() === diagnose.toLowerCase())) === null || _diagnoses$find === void 0 ? void 0 : _diagnoses$find.name]\n      }, diagnose, true, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 20\n      }, this);\n    }), entry.discharge && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"Discharge date: \", entry.discharge.date, \". Criteria: \", entry.discharge.criteria, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true)]\n  }, entry.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 10\n  }, this);\n};\n_c = HospitalEntryDetails;\nconst OccupationHealthCareDetails = _ref2 => {\n  var _entry$sickLeave, _entry$sickLeave2, _entry$diagnosisCodes2;\n  let {\n    entry,\n    diagnoses\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [entry.date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this), \"Employer name: \", entry.employerName, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this), entry.sickLeave && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"Sick leave from \", (_entry$sickLeave = entry.sickLeave) === null || _entry$sickLeave === void 0 ? void 0 : _entry$sickLeave.startDate, \" to \", (_entry$sickLeave2 = entry.sickLeave) === null || _entry$sickLeave2 === void 0 ? void 0 : _entry$sickLeave2.endDate, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true), entry.description, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), (_entry$diagnosisCodes2 = entry.diagnosisCodes) === null || _entry$diagnosisCodes2 === void 0 ? void 0 : _entry$diagnosisCodes2.map(diagnose => {\n      var _diagnoses$find2;\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [diagnose, \" \", diagnoses === null || diagnoses === void 0 ? void 0 : (_diagnoses$find2 = diagnoses.find(it => it.code.toLowerCase() === diagnose.toLowerCase())) === null || _diagnoses$find2 === void 0 ? void 0 : _diagnoses$find2.name]\n      }, diagnose, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 28\n      }, this);\n    })]\n  }, entry.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n_c2 = OccupationHealthCareDetails;\nconst PatientEntries = _ref3 => {\n  _s();\n  var _useParams$id;\n  let {\n    entries\n  } = _ref3;\n  const id = ((_useParams$id = useParams().id) === null || _useParams$id === void 0 ? void 0 : _useParams$id.toString()) || null;\n  const [diagnoses, setDiagnoses] = useState(null);\n  useEffect(() => {\n    const fetchDiagnoses = async () => {\n      const fetchedDiagnoses = await patientService.getDiagnoses(id);\n      setDiagnoses(fetchedDiagnoses);\n    };\n    fetchDiagnoses();\n  }, [id]);\n  function assertNever(value) {\n    throw new Error(`Unhandled value: ${value}`);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: entries.map(entry => {\n      var _entry$diagnosisCodes3;\n      switch (entry.type) {\n        case \"Hospital\":\n          return /*#__PURE__*/_jsxDEV(HospitalEntryDetails, {\n            entry: entry,\n            diagnoses: diagnoses\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 20\n          }, this);\n        case \"OccupationalHealthcare\":\n          return /*#__PURE__*/_jsxDEV(OccupationHealthCareDetails, {\n            entry: entry,\n            diagnoses: diagnoses\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 24\n          }, this);\n        case \"HealthCheck\":\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [entry.date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), \"health check rating: \", entry.healthCheckRating, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), entry.description, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 13\n            }, this), (_entry$diagnosisCodes3 = entry.diagnosisCodes) === null || _entry$diagnosisCodes3 === void 0 ? void 0 : _entry$diagnosisCodes3.map(diagnose => {\n              var _diagnoses$find3;\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [diagnose, \" \", diagnoses === null || diagnoses === void 0 ? void 0 : (_diagnoses$find3 = diagnoses.find(it => it.code.toLowerCase() === diagnose.toLowerCase())) === null || _diagnoses$find3 === void 0 ? void 0 : _diagnoses$find3.name]\n              }, diagnose, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 28\n              }, this);\n            })]\n          }, entry.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 24\n          }, this);\n        default:\n          return assertNever(entry);\n      }\n    })\n  }, void 0, false);\n};\n_s(PatientEntries, \"wcJKpi6GuT2LsJAne/TynslFzWo=\", false, function () {\n  return [useParams];\n});\n_c3 = PatientEntries;\nexport default PatientEntries;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"HospitalEntryDetails\");\n$RefreshReg$(_c2, \"OccupationHealthCareDetails\");\n$RefreshReg$(_c3, \"PatientEntries\");","map":{"version":3,"names":["useEffect","useState","patientService","useParams","HospitalEntryDetails","entry","diagnoses","date","description","diagnosisCodes","map","diagnose","find","it","code","toLowerCase","name","discharge","criteria","id","OccupationHealthCareDetails","employerName","sickLeave","startDate","endDate","PatientEntries","entries","toString","setDiagnoses","fetchDiagnoses","fetchedDiagnoses","getDiagnoses","assertNever","value","Error","type","healthCheckRating"],"sources":["/Users/ahalias/projects/open/patientor/patientor-frontend/src/components/PatientEntries.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Diagnosis, Entry, HospitalEntry, OccupationalHealthcareEntry } from \"../types\";\nimport patientService from \"../services/patients\";\nimport { useParams } from \"react-router-dom\";\n\n\n\nconst HospitalEntryDetails = ({entry, diagnoses} : {entry: HospitalEntry, diagnoses: Diagnosis[] | null }) => {\n    return (\n         <div key={entry.id}>\n        {entry.date} \n        <br />\n        {entry.description}\n    <br />\n    {entry.diagnosisCodes?.map(diagnose => \n        { \n            return <li key={diagnose}>\n        {diagnose} {diagnoses?.find(it => it.code.toLowerCase() === diagnose.toLowerCase())?.name}\n      </li> \n    })}\n    {entry.discharge && \n    <>\n    Discharge date: {entry.discharge.date}. Criteria: {entry.discharge.criteria}\n    <br />\n    </>\n    }\n      </div>\n    )\n}\n\n\nconst OccupationHealthCareDetails = ({entry, diagnoses} : {entry: OccupationalHealthcareEntry, diagnoses: Diagnosis[] | null }) => {\n    return (\n        <div key={entry.id}>\n                    \n                {entry.date} \n                <br />\n                Employer name: {entry.employerName}\n                <br />\n                {entry.sickLeave && \n                <>\n                Sick leave from {entry.sickLeave?.startDate} to {entry.sickLeave?.endDate} \n                <br />\n                </>}\n                \n                \n                {entry.description}\n            <br />\n            {entry.diagnosisCodes?.map(diagnose => \n                { \n                    return <li key={diagnose}>\n                {diagnose} {diagnoses?.find(it => it.code.toLowerCase() === diagnose.toLowerCase())?.name}\n              </li> \n            })}\n              </div>\n    )\n}\n\nconst PatientEntries: React.FC<{ entries: Entry[] }> = ({ entries }: {entries: Entry[]} ) => {\n    const id = useParams().id?.toString() || null;\n\n    const [diagnoses, setDiagnoses] = useState<Diagnosis[] | null>(null)\n\n\n    useEffect(() => {\n        const fetchDiagnoses = async () => {\n            const fetchedDiagnoses = await patientService.getDiagnoses(id)\n            setDiagnoses(fetchedDiagnoses)\n        }\n        fetchDiagnoses()\n    }, [id])\n\n\n    function assertNever(value: never): never {\n        throw new Error(`Unhandled value: ${value}`);\n      }\n\nreturn (\n    <>\n    {entries.map(entry => {\n        switch (entry.type) {\n          case \"Hospital\":\n            return < HospitalEntryDetails entry={entry}  diagnoses={diagnoses}/>\n            \n            case \"OccupationalHealthcare\":\n                return < OccupationHealthCareDetails entry={entry}  diagnoses={diagnoses} />     \n            case \"HealthCheck\":\n                return <div key={entry.id}>\n                {entry.date}  \n                <br />\n                health check rating: {entry.healthCheckRating}\n                <br />\n                {entry.description} \n            <br />\n            {entry.diagnosisCodes?.map(diagnose => \n                { \n                    return <li key={diagnose}>\n                {diagnose} {diagnoses?.find(it => it.code.toLowerCase() === diagnose.toLowerCase())?.name}\n              </li> \n            })}\n              </div>;\n            default:\n            return assertNever(entry);\n                }\n        }\n\n    \n    )}\n    </>\n);\n};\n\nexport default PatientEntries;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}